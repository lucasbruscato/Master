library(pdftools)
fileNames <- list.files(path = ".")
for (i in 1:(length(fileNames) - 2)) {
print(fileNames[i])
# file name with no extension
fileNameNoExt <- substr(fileNames[i], 1, nchar(fileNames[i]) - 4)
# read pdf
text <- pdf_text(fileNames[i])
# read lines from pdf
textDivided <- strsplit(text, "\n")
# create new name with city and state name
newNameNoExt <- paste0(fileNameNoExt,
'-',
trimws(gsub('\r', '', gsub(pattern = '/', '-', textDivided[[1]][10])), which = 'left'),
'.pdf')
# copy the file with the new name
# file.copy(fileNames[i], newNameNoExt)
print(newNameNoExt)
}
library(pdftools)
fileNames <- list.files(path = ".")
fileNames
